(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let a=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689)},84614,e=>{"use strict";let a=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>a],84614)},43432,e=>{"use strict";let a=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>a],43432)},63488,e=>{"use strict";let a=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>a],63488)},46897,e=>{"use strict";let a=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>a],46897)},97251,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(18566),l=e.i(11795),t=e.i(84614),o=e.i(63488),i=e.i(43432),n=e.i(46897);let c=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var d=e.i(71689);function x(){let e=(0,s.useRouter)(),x=(0,l.createClient)(),[m,u]=(0,r.useState)(!0),[h,p]=(0,r.useState)(!1),[f,b]=(0,r.useState)(null),[y,g]=(0,r.useState)({full_name:"",phone:"",address:""});async function v(){try{let{data:{user:a}}=await x.auth.getUser();if(!a)return void e.push("/login");b(a);let{data:r}=await x.from("user_profiles").select("*").eq("id",a.id).single();r&&g({full_name:r.full_name||"",phone:r.phone||"",address:r.address||""})}catch(e){console.error("Error loading profile:",e)}finally{u(!1)}}async function j(a){a.preventDefault(),p(!0);try{let{error:a}=await x.from("user_profiles").update(y).eq("id",f.id);if(a)throw a;alert("Profil berhasil diperbarui!"),e.push("/dashboard")}catch(e){console.error("Error updating profile:",e),alert("Gagal memperbarui profil")}finally{p(!1)}}return((0,r.useEffect)(()=>{v()},[]),m)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[var(--color-accent)]"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,a.jsx)(d.ArrowLeft,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Profil Saya"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Kelola informasi akun Anda"})]})]})})}),(0,a.jsx)("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6 mb-8 pb-8 border-b border-gray-200",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-[var(--color-accent)] to-[#8B5CF6] rounded-full flex items-center justify-center text-white text-3xl font-bold",children:(y.full_name||f?.email)?.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:y.full_name||"Nama Belum Diisi"}),(0,a.jsxs)("p",{className:"text-gray-600 flex items-center gap-2 mt-1",children:[(0,a.jsx)(o.Mail,{className:"w-4 h-4"}),f?.email]})]})]}),(0,a.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,a.jsx)(t.User,{className:"w-4 h-4"}),"Nama Lengkap"]}),(0,a.jsx)("input",{type:"text",required:!0,value:y.full_name,onChange:e=>g({...y,full_name:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[var(--color-accent)] transition-colors",placeholder:"Masukkan nama lengkap"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,a.jsx)(i.Phone,{className:"w-4 h-4"}),"Nomor Telepon"]}),(0,a.jsx)("input",{type:"tel",value:y.phone,onChange:e=>g({...y,phone:e.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[var(--color-accent)] transition-colors",placeholder:"Contoh: 08123456789"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[(0,a.jsx)(n.MapPin,{className:"w-4 h-4"}),"Alamat"]}),(0,a.jsx)("textarea",{value:y.address,onChange:e=>g({...y,address:e.target.value}),rows:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-[var(--color-accent)] transition-colors resize-none",placeholder:"Masukkan alamat lengkap"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>e.push("/dashboard"),className:"flex-1 px-6 py-3 border-2 border-gray-200 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-colors",children:"Batal"}),(0,a.jsxs)("button",{type:"submit",disabled:h,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-[var(--color-accent)] text-white rounded-xl font-semibold hover:bg-[var(--color-accent-hover)] transition-colors disabled:opacity-50",children:[(0,a.jsx)(c,{className:"w-5 h-5"}),h?"Menyimpan...":"Simpan Perubahan"]})]})]})]})})]})}e.s(["default",()=>x],97251)}]);