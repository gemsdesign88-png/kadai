(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17923,e=>{"use strict";let a=(0,e.i(75254).default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>a],17923)},7486,e=>{"use strict";let a=(0,e.i(75254).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);e.s(["Building2",()=>a],7486)},66270,e=>{"use strict";let a=(0,e.i(75254).default)("utensils-crossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);e.s(["UtensilsCrossed",()=>a],66270)},43531,e=>{"use strict";let a=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>a],43531)},15399,e=>{"use strict";var a=e.i(43476),t=e.i(18566),s=e.i(11795),r=e.i(75254);let l=(0,r.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var n=e.i(7486);let o=(0,r.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var i=e.i(17923),d=e.i(1928),c=e.i(61911);let h=(0,r.default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);var u=e.i(66270),m=e.i(64659),x=e.i(43531),b=e.i(48256),f=e.i(71645),g=e.i(44674);function p({children:e,user:r,profile:p,restaurants:y}){let v=(0,t.useRouter)(),w=(0,t.usePathname)(),j=(0,s.createClient)(),{language:k,setLanguage:N}=(0,g.useLanguage)(),[C,M]=(0,f.useState)(!1),[_,S]=(0,f.useState)(null),[A,B]=(0,f.useState)(!1),U=(0,f.useRef)(null);(0,f.useEffect)(()=>{if(y.length>0){let e=localStorage.getItem("selected_restaurant_id");if(e){let a=y.find(a=>a.id===e);a?S(a):(S(y[0]),localStorage.setItem("selected_restaurant_id",y[0].id))}else S(y[0]),localStorage.setItem("selected_restaurant_id",y[0].id)}},[y]),(0,f.useEffect)(()=>{function e(e){U.current&&!U.current.contains(e.target)&&B(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let P=async()=>{M(!0),await j.auth.signOut(),v.push("/login")},E=[{path:"/dashboard",icon:o,label:"Dashboard"},{path:"/dashboard/analytics",icon:i.BarChart3,label:"en"===k?"Analytics":"Analitik"},{path:"/dashboard/orders",icon:d.ShoppingCart,label:"en"===k?"Orders":"Pesanan"},{path:"/dashboard/menu",icon:u.UtensilsCrossed,label:"Menu"},{path:"/dashboard/customers",icon:c.Users,label:"en"===k?"Customers":"Pelanggan"},{path:"/dashboard/staff",icon:c.Users,label:"Staff"},{path:"/dashboard/inventory",icon:h,label:"en"===k?"Inventory":"Stok"},{path:"/dashboard/tables",icon:n.Building2,label:"en"===k?"Tables":"Meja"}];return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,a.jsx)("aside",{className:"w-64 bg-white border-r border-gray-200 fixed inset-y-0 left-0 z-50 flex flex-col",children:(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("img",{src:"/logo-black.svg",alt:"KadaiPOS",className:"h-10 w-auto"})})}),y.length>0&&(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-3",children:"en"===k?"Active Restaurant":"Restoran Aktif"}),(0,a.jsxs)("div",{className:"relative",ref:U,children:[(0,a.jsxs)("button",{onClick:()=>B(!A),className:"w-full pl-12 pr-10 py-3.5 text-sm font-bold text-gray-900 bg-white border-3 border-gray-200 rounded-2xl focus:ring-0 focus:outline-none focus:border-gray-400 transition-all hover:border-gray-300 hover:shadow-sm text-left",children:[(0,a.jsx)("span",{className:"block truncate",children:_?.name}),(0,a.jsx)(m.ChevronDown,{className:`absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500 transition-transform ${A?"rotate-180":""}`})]}),(0,a.jsx)("div",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 pointer-events-none",children:_?.logo_url?(0,a.jsx)("img",{src:_.logo_url,alt:_.name,className:"w-7 h-7 rounded-xl object-cover border-2 border-white shadow-sm"}):(0,a.jsx)("div",{className:"w-7 h-7 bg-gradient-to-br from-[var(--color-accent)] to-[#8B5CF6] rounded-xl flex items-center justify-center shadow-sm border-2 border-white",children:(0,a.jsx)("span",{className:"text-white font-black text-xs",children:_?.name?.charAt(0).toUpperCase()||"R"})})}),A&&(0,a.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border-2 border-gray-200 rounded-2xl shadow-lg overflow-hidden z-50 max-h-64 overflow-y-auto",children:y.map(e=>{let t=_?.id===e.id;return(0,a.jsxs)("button",{onClick:()=>{S(e),localStorage.setItem("selected_restaurant_id",e.id),window.dispatchEvent(new Event("restaurantChanged")),B(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${t?"bg-gray-50 text-gray-900":"text-gray-700 hover:bg-gray-50"}`,children:[e.logo_url?(0,a.jsx)("img",{src:e.logo_url,alt:e.name,className:"w-8 h-8 rounded-xl object-cover border-2 border-white shadow-sm flex-shrink-0"}):(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-[var(--color-accent)] to-[#8B5CF6] rounded-xl flex items-center justify-center shadow-sm border-2 border-white flex-shrink-0",children:(0,a.jsx)("span",{className:"text-white font-black text-xs",children:e.name.charAt(0).toUpperCase()})}),(0,a.jsx)("span",{className:"flex-1 font-semibold text-sm truncate",children:e.name}),t&&(0,a.jsx)(x.Check,{className:"w-5 h-5 text-[var(--color-accent)] flex-shrink-0"})]},e.id)})})]})]}),(0,a.jsx)("nav",{className:"flex-1 p-4",children:(0,a.jsx)("div",{className:"space-y-1",children:E.map(e=>{let t=e.icon,s=w===e.path;return(0,a.jsxs)("button",{onClick:()=>v.push(e.path),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${s?"bg-[var(--color-accent)] text-white":"text-gray-700 hover:bg-gray-100"}`,children:[(0,a.jsx)(t,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.path)})})}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,a.jsxs)("button",{onClick:()=>v.push("/dashboard/owner"),className:"w-full flex items-center gap-3 mb-3 p-3 hover:bg-gray-50 rounded-xl transition-colors border-2 border-gray-200 hover:border-[var(--color-accent)]",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[var(--color-accent)] to-[#8B5CF6] rounded-xl flex items-center justify-center text-white font-bold text-lg",children:(p?.full_name||r.email).charAt(0).toUpperCase()}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-gray-900 truncate",children:p?.full_name||r.email}),(0,a.jsxs)("p",{className:"text-xs text-[var(--color-accent)] font-medium",children:["ðŸ‘¤ ","en"===k?"Owner Profile":"Profil Owner"]})]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("button",{onClick:()=>N("en"===k?"id":"en"),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-gray-700 hover:text-[var(--color-accent)] hover:bg-gray-50 rounded-lg transition-all",children:[(0,a.jsx)(b.Globe,{className:"w-4 h-4"}),"en"===k?"ðŸ‡¬ðŸ‡§ English":"ðŸ‡®ðŸ‡© Bahasa"]}),(0,a.jsxs)("button",{onClick:P,disabled:C,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-gray-700 hover:text-[var(--color-accent)] hover:bg-gray-50 rounded-lg transition-all disabled:opacity-50",children:[(0,a.jsx)(l,{className:"w-4 h-4"}),"en"===k?"Logout":"Keluar"]})]})]})]})}),(0,a.jsx)("div",{className:"flex-1 ml-64 overflow-x-hidden",children:e})]})}e.s(["default",()=>p],15399)}]);