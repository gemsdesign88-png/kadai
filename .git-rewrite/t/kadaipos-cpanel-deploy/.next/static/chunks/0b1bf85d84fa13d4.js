(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},12426,e=>{"use strict";let t=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],12426)},17646,41891,38814,e=>{"use strict";let t=(0,e.i(75254).default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);e.s(["PieChart",()=>t],17646);var r=e.i(71645),a=e.i(25949),n=e.i(70778),l=e.i(98596),i=e.i(22273),s=e.i(62327),o=e.i(27241),c=e.i(73310);function d(e){var t=(0,o.useAppDispatch)();return(0,r.useEffect)(()=>{t((0,c.updatePolarOptions)(e))},[t,e]),null}var u=e.i(48973),m=e.i(51883),p=["layout"];function g(){return(g=Object.assign.bind()).apply(null,arguments)}var x={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},y=(0,r.forwardRef)(function(e,t){var a,o=(0,m.resolveDefaultProps)(e.categoricalChartProps,x),{layout:c}=o,y=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(o,p),{chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:b,tooltipPayloadSearcher:v}=e;return r.createElement(n.RechartsStoreProvider,{preloadedState:{options:{chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:b,tooltipPayloadSearcher:v,eventEmitter:void 0}},reduxStoreName:null!=(a=o.id)?a:h},r.createElement(l.ChartDataContextProvider,{chartData:o.data}),r.createElement(i.ReportMainChartProps,{layout:c,margin:o.margin}),r.createElement(s.ReportChartProps,{baseValue:void 0,accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className,reverseStackOrder:o.reverseStackOrder}),r.createElement(d,{cx:o.cx,cy:o.cy,startAngle:o.startAngle,endAngle:o.endAngle,innerRadius:o.innerRadius,outerRadius:o.outerRadius}),r.createElement(u.CategoricalChart,g({},y,{ref:t})))});function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=["item"],v=f(f({},x),{},{layout:"centric",startAngle:0,endAngle:360}),j=(0,r.forwardRef)((e,t)=>{var n=(0,m.resolveDefaultProps)(e,v);return r.createElement(y,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:b,tooltipPayloadSearcher:a.arrayTooltipSearcher,categoricalChartProps:n,ref:t})});e.s(["PieChart",()=>j],41891),e.s(["Pie",()=>eB,"computePieSectors",()=>e_],38814);var N=e.i(92068),S=e.i(7670),w=e.i(61849),A=e.i(92860),k=e.i(41088),P=e.i(79812),O=e.i(61764),E=e.i(46710),T=e.i(73962),D=e.i(91561),I=e.i(77320),_=e=>e.graphicalItems.polarItems,R=(0,w.createSelector)([T.pickAxisType,D.pickAxisId],O.itemAxisPredicate),C=(0,w.createSelector)([_,O.selectBaseAxis,R],O.combineGraphicalItemsSettings),L=(0,w.createSelector)([C],O.combineGraphicalItemsData),M=(0,w.createSelector)([L,A.selectChartDataAndAlwaysIgnoreIndexes],O.combineDisplayedData),B=(0,w.createSelector)([M,O.selectBaseAxis,C],O.combineAppliedValues);(0,w.createSelector)([M,O.selectBaseAxis,C],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var a;return{value:(0,P.getValueByDataKey)(e,null!=(a=t.dataKey)?a:r.dataKey),errorDomain:[]}})).filter(Boolean):(null==t?void 0:t.dataKey)!=null?e.map(e=>({value:(0,P.getValueByDataKey)(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var K=()=>void 0,V=(0,w.createSelector)([M,O.selectBaseAxis,C,O.selectAllErrorBarSettings,T.pickAxisType],O.combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),q=(0,w.createSelector)([O.selectBaseAxis,O.selectDomainDefinition,O.selectDomainFromUserPreference,K,V,K,E.selectChartLayout,T.pickAxisType],O.combineNumericalDomain),F=(0,w.createSelector)([O.selectBaseAxis,E.selectChartLayout,M,B,I.selectStackOffsetType,T.pickAxisType,q],O.combineAxisDomain),z=(0,w.createSelector)([F,O.selectBaseAxis,O.selectRealScaleType],O.combineNiceTicks);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}(0,w.createSelector)([O.selectBaseAxis,F,z,T.pickAxisType],O.combineAxisDomainWithNiceTicks);var U=(0,w.createSelector)([_,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),H=[],W=(e,t,r)=>(null==r?void 0:r.length)===0?H:r,Z=(0,w.createSelector)([A.selectChartDataAndAlwaysIgnoreIndexes,U,W],(e,t,r)=>{var a,{chartData:n}=e;if(null!=t&&((a=(null==t?void 0:t.data)!=null&&t.data.length>0?t.data:n)&&a.length||null==r||(a=r.map(e=>$($({},t.presentationProps),e.props))),null!=a))return a}),J=(0,w.createSelector)([Z,U,W],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,a)=>{var n,l,i=(0,P.getValueByDataKey)(e,t.nameKey,t.name);return l=null!=r&&null!=(n=r[a])&&null!=(n=n.props)&&n.fill?r[a].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:(0,P.getTooltipNameProp)(i,t.dataKey),color:l,payload:e,type:t.legendType}})}),Q=(0,w.createSelector)([Z,U,W,k.selectChartOffsetInternal],(e,t,r,a)=>{if(null!=t&&null!=e)return e_({offset:a,pieSettings:t,displayedData:e,cells:r})}),X=e.i(97865),Y=e.i(72733),ee=e.i(9516),et=e.i(22787),er=e.i(81977),ea=e.i(68970),en=e.i(94395),el=e.i(73393),ei=e.i(18519),es=e.i(94585),eo=e.i(844),ec=e.i(76735),ed=e.i(95146),eu=e.i(94810),em=e.i(40657),ep=e.i(15549),eg=e.i(91187),ex=e.i(57999),ey=e.i(66576),eh=e.i(69212),ef=e.i(29601),eb=e.i(18457),ev=["key"],ej=["onMouseEnter","onClick","onMouseLeave"],eN=["id"],eS=["id"];function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(t){var a,n,l;a=e,n=t,l=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in a?Object.defineProperty(a,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[n]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ek(){return(ek=Object.assign.bind()).apply(null,arguments)}function eP(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eO(e){var t=(0,r.useMemo)(()=>(0,er.findAllByType)(e.children,et.Cell),[e.children]),a=(0,o.useAppSelector)(r=>J(r,e.id,t));return null==a?null:r.createElement(ed.SetPolarLegendPayload,{legendPayload:a})}var eE=r.memo(e=>{var{dataKey:t,nameKey:a,sectors:n,stroke:l,strokeWidth:i,fill:s,name:o,hide:c,tooltipType:d}=e,u={dataDefinedOnItem:n.map(e=>e.tooltipPayload),positions:n.map(e=>e.tooltipPosition),settings:{stroke:l,strokeWidth:i,fill:s,dataKey:t,nameKey:a,name:(0,P.getTooltipNameProp)(o,t),hide:c,type:d,color:s,unit:""}};return r.createElement(eo.SetTooltipEntrySettings,{tooltipEntrySettings:u})});function eT(e){var{sectors:t,props:a,showLabels:n}=e,{label:l,labelLine:i,dataKey:s}=a;if(!n||!l||!t)return null;var o=(0,ex.svgPropertiesNoEvents)(a),c=(0,ex.svgPropertiesNoEventsFromUnknown)(l),d=(0,ex.svgPropertiesNoEventsFromUnknown)(i),u="object"==typeof l&&"offsetRadius"in l&&"number"==typeof l.offsetRadius&&l.offsetRadius||20,m=t.map((e,t)=>{var a,n,m=(e.startAngle+e.endAngle)/2,p=(0,ea.polarToCartesian)(e.cx,e.cy,e.outerRadius+u,m),g=eA(eA(eA(eA({},o),e),{},{stroke:"none"},c),{},{index:t,textAnchor:(a=p.x)>(n=e.cx)?"start":a<n?"end":"middle"},p),x=eA(eA(eA(eA({},o),e),{},{fill:"none",stroke:e.fill},d),{},{index:t,points:[(0,ea.polarToCartesian)(e.cx,e.cy,e.outerRadius,m),p],key:"line"});return r.createElement(ef.ZIndexLayer,{zIndex:eb.DefaultZIndexes.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},r.createElement(X.Layer,null,i&&((e,t)=>{if(r.isValidElement(e))return r.cloneElement(e,t);if("function"==typeof e)return e(t);var a=(0,S.clsx)("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:n}=t,l=eP(t,ev);return r.createElement(Y.Curve,ek({},l,{type:"linear",className:a}))})(i,x),((e,t,a)=>{if(r.isValidElement(e))return r.cloneElement(e,t);var n=a;if("function"==typeof e&&(n=e(t),r.isValidElement(n)))return n;var l=(0,S.clsx)("recharts-pie-label-text",e&&"object"==typeof e&&"className"in e&&"string"==typeof e.className?e.className:"");return r.createElement(ee.Text,ek({},t,{alignmentBaseline:"middle",className:l}),n)})(l,g,(0,P.getValueByDataKey)(e,s))))});return r.createElement(X.Layer,{className:"recharts-pie-labels"},m)}function eD(e){var{sectors:t,props:a,showLabels:n}=e,{label:l}=a;return"object"==typeof l&&null!=l&&"position"in l?r.createElement(eh.LabelListFromLabelProp,{label:l}):r.createElement(eT,{sectors:t,props:a,showLabels:n})}function eI(e){var{sectors:t,activeShape:a,inactiveShape:n,allOtherPieProps:l,shape:i,id:s}=e,c=(0,o.useAppSelector)(ec.selectActiveTooltipIndex),d=(0,o.useAppSelector)(ec.selectActiveTooltipDataKey),u=(0,o.useAppSelector)(ec.selectActiveTooltipGraphicalItemId),{onMouseEnter:m,onClick:p,onMouseLeave:g}=l,x=eP(l,ej),y=(0,es.useMouseEnterItemDispatch)(m,l.dataKey,s),h=(0,es.useMouseLeaveItemDispatch)(g),f=(0,es.useMouseClickItemDispatch)(p,l.dataKey,s);return null==t||0===t.length?null:r.createElement(r.Fragment,null,t.map((e,o)=>{if((null==e?void 0:e.startAngle)===0&&(null==e?void 0:e.endAngle)===0&&1!==t.length)return null;var m=null==u||u===s,p=String(o)===c&&(null==d||l.dataKey===d)&&m,g=a&&p?a:c?n:null,b=eA(eA({},e),{},{stroke:e.stroke,tabIndex:-1,[eu.DATA_ITEM_INDEX_ATTRIBUTE_NAME]:o,[eu.DATA_ITEM_DATAKEY_ATTRIBUTE_NAME]:l.dataKey});return r.createElement(X.Layer,ek({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(o),tabIndex:-1,className:"recharts-pie-sector"},(0,el.adaptEventsOfChild)(x,e,o),{onMouseEnter:y(e,o),onMouseLeave:h(e,o),onClick:f(e,o)}),r.createElement(ei.Shape,ek({option:null!=i?i:g,index:o,shapeType:"sector",isActive:p},b)))}))}function e_(e){var t,r,a,{pieSettings:n,displayedData:l,cells:i,offset:s}=e,{cornerRadius:o,startAngle:c,endAngle:d,dataKey:u,nameKey:m,tooltipType:p}=n,g=Math.abs(n.minAngle),x=(0,en.mathSign)(d-c)*Math.min(Math.abs(d-c),360),y=Math.abs(x),h=l.length<=1?0:null!=(t=n.paddingAngle)?t:0,f=l.filter(e=>0!==(0,P.getValueByDataKey)(e,u,0)).length,b=y-f*g-(y>=360?f:f-1)*h,v=l.reduce((e,t)=>{var r=(0,P.getValueByDataKey)(t,u,0);return e+((0,en.isNumber)(r)?r:0)},0);return v>0&&(r=l.map((e,t)=>{var r,l=(0,P.getValueByDataKey)(e,u,0),d=(0,P.getValueByDataKey)(e,m,t),y=((e,t,r)=>{var a,{top:n,left:l,width:i,height:s}=t,o=(0,ea.getMaxRadius)(i,s),c=l+(0,en.getPercentValue)(e.cx,i,i/2),d=n+(0,en.getPercentValue)(e.cy,s,s/2),u=(0,en.getPercentValue)(e.innerRadius,o,0);return{cx:c,cy:d,innerRadius:u,outerRadius:(a=e.outerRadius,"function"==typeof a?(0,en.getPercentValue)(a(r),o,.8*o):(0,en.getPercentValue)(a,o,.8*o)),maxRadius:e.maxRadius||Math.sqrt(i*i+s*s)/2}})(n,s,e),f=((0,en.isNumber)(l)?l:0)/v,j=eA(eA({},e),i&&i[t]&&i[t].props),N=(r=t?a.endAngle+(0,en.mathSign)(x)*h*(0!==l):c)+(0,en.mathSign)(x)*((0!==l?g:0)+f*b),S=(r+N)/2,w=(y.innerRadius+y.outerRadius)/2,A=[{name:d,value:l,payload:j,dataKey:u,type:p}],k=(0,ea.polarToCartesian)(y.cx,y.cy,w,S);return a=eA(eA(eA(eA({},n.presentationProps),{},{percent:f,cornerRadius:"string"==typeof o?parseFloat(o):o,name:d,tooltipPayload:A,midAngle:S,middleRadius:w,tooltipPosition:k},j),y),{},{value:l,dataKey:u,startAngle:r,endAngle:N,payload:j,paddingAngle:(0,en.mathSign)(x)*h})})),r}function eR(e){var{showLabels:t,sectors:a,children:n}=e,l=(0,r.useMemo)(()=>t&&a?a.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[a,t]);return r.createElement(eh.PolarLabelListContextProvider,{value:t?l:void 0},n)}function eC(e){var{props:t,previousSectorsRef:a,id:n}=e,{sectors:l,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:c,activeShape:d,inactiveShape:u,onAnimationStart:m,onAnimationEnd:p}=t,g=(0,em.useAnimationId)(t,"recharts-pie-"),x=a.current,[y,h]=(0,r.useState)(!1),f=(0,r.useCallback)(()=>{"function"==typeof p&&p(),h(!1)},[p]),b=(0,r.useCallback)(()=>{"function"==typeof m&&m(),h(!0)},[m]);return r.createElement(eR,{showLabels:!y,sectors:l},r.createElement(ey.JavascriptAnimate,{animationId:g,begin:s,duration:o,isActive:i,easing:c,onAnimationStart:b,onAnimationEnd:f,key:g},e=>{var i=[],s=l&&l[0],o=null==s?void 0:s.startAngle;return null==l||l.forEach((t,r)=>{var a=x&&x[r],n=r>0?(0,N.default)(t,"paddingAngle",0):0;if(a){var l=(0,en.interpolate)(a.endAngle-a.startAngle,t.endAngle-t.startAngle,e),s=eA(eA({},t),{},{startAngle:o+n,endAngle:o+l+n});i.push(s),o=s.endAngle}else{var{endAngle:c,startAngle:d}=t,u=(0,en.interpolate)(0,c-d,e),m=eA(eA({},t),{},{startAngle:o+n,endAngle:o+u+n});i.push(m),o=m.endAngle}}),a.current=i,r.createElement(X.Layer,null,r.createElement(eI,{sectors:i,activeShape:d,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:n}))}),r.createElement(eD,{showLabels:!y,sectors:l,props:t}),t.children)}var eL={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:eb.DefaultZIndexes.area};function eM(e){var{id:t}=e,a=eP(e,eN),{hide:n,className:l,rootTabIndex:i}=e,s=(0,r.useMemo)(()=>(0,er.findAllByType)(e.children,et.Cell),[e.children]),c=(0,o.useAppSelector)(e=>Q(e,t,s)),d=(0,r.useRef)(null),u=(0,S.clsx)("recharts-pie",l);return n||null==c?(d.current=null,r.createElement(X.Layer,{tabIndex:i,className:u})):r.createElement(ef.ZIndexLayer,{zIndex:e.zIndex},r.createElement(eE,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),r.createElement(X.Layer,{tabIndex:i,className:u},r.createElement(eC,{props:eA(eA({},a),{},{sectors:c}),previousSectorsRef:d,id:t})))}function eB(e){var t=(0,m.resolveDefaultProps)(e,eL),{id:a}=t,n=eP(t,eS),l=(0,ex.svgPropertiesNoEvents)(n);return r.createElement(ep.RegisterGraphicalItemId,{id:a,type:"pie"},e=>r.createElement(r.Fragment,null,r.createElement(eg.SetPolarGraphicalItem,{type:"pie",id:e,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:l,maxRadius:t.maxRadius}),r.createElement(eO,ek({},n,{id:e})),r.createElement(eM,ek({},n,{id:e}))))}eB.displayName="Pie"},78894,35408,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>r],78894);let a=(0,t.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);e.s(["TrendingDown",()=>a],35408)},61012,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),n=e.i(11795),l=e.i(44674),i=e.i(88844),s=e.i(78894),o=e.i(35408),c=e.i(12426),d=e.i(55436),u=e.i(17646),m=e.i(41891),p=e.i(38814),g=e.i(22787),x=e.i(31195),y=e.i(34239),h=e.i(59559);function f(){let e=(0,a.useRouter)(),f=(0,n.createClient)(),{language:b}=(0,l.useLanguage)(),[v,j]=(0,r.useState)(!0),[N,S]=(0,r.useState)([]),[w,A]=(0,r.useState)(!1),[k,P]=(0,r.useState)(null),[O,E]=(0,r.useState)("add"),[T,D]=(0,r.useState)(""),[I,_]=(0,r.useState)(""),[R,C]=(0,r.useState)(""),[L,M]=(0,r.useState)({totalValue:0,lowStock:0,outOfStock:0,totalItems:0}),[B,K]=(0,r.useState)([]);async function V(){j(!0);try{let{data:{user:t}}=await f.auth.getUser();if(!t)return void e.push("/login");let r=localStorage.getItem("selected_restaurant_id");if(!r)return void e.push("/dashboard");let{data:a}=await f.from("restaurants").select("*").eq("id",r).eq("owner_id",t.id).single();if(!a)return;let{data:n}=await f.from("stock_items").select(`
          *,
          ingredient:ingredients(*)
        `).eq("restaurant_id",a.id).order("quantity_on_hand",{ascending:!0});if(n){S(n);let e=n.reduce((e,t)=>e+t.quantity_on_hand*(t.ingredient?.unit_cost||0),0),t=n.filter(e=>e.quantity_on_hand>0&&e.quantity_on_hand<=(e.ingredient?.reorder_level||0)).length,r=n.filter(e=>0===e.quantity_on_hand).length;M({totalValue:e,lowStock:t,outOfStock:r,totalItems:n.length});let a=n.filter(e=>{let t=e.quantity_on_hand,r=e.ingredient?.par_level||100,a=e.ingredient?.reorder_level||20;return t>a&&t<=r}).length,l=n.filter(e=>{let t=e.quantity_on_hand,r=e.ingredient?.par_level||100;return t>r}).length;K([{name:"Healthy",value:a,color:"#10b981"},{name:"Low Stock",value:t,color:"#f59e0b"},{name:"Out of Stock",value:r,color:"#ef4444"},{name:"Overstocked",value:l,color:"#3b82f6"}].filter(e=>e.value>0))}}catch(e){console.error("Error loading inventory:",e)}finally{j(!1)}}async function q(e){if(e.preventDefault(),!k)return;let t=parseFloat(T),r="add"===O?k.quantity_on_hand+t:k.quantity_on_hand-t;if(r<0)return void alert("Stok tidak boleh negatif");try{let e=r<=k.ingredient.reorder_level;await f.from("stock_items").update({quantity_on_hand:r,is_low_stock:e}).eq("id",k.id),A(!1),V()}catch(e){console.error("Error adjusting stock:",e)}}(0,r.useEffect)(()=>{V()},[]);let F=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),z=N.filter(e=>e.ingredient.name.toLowerCase().includes(R.toLowerCase())||e.ingredient.category.toLowerCase().includes(R.toLowerCase()));return v?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[var(--color-accent)]"})}):(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"en"===b?"Manage Stock":"Kelola Stok"}),(0,t.jsx)("p",{className:"text-gray-600",children:"en"===b?"Monitor and adjust inventory":"Pantau dan sesuaikan inventory"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(c.DollarSign,{className:"w-6 h-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:F(L.totalValue)}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"en"===b?"Total Stock Value":"Total Nilai Stok"})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(i.Package,{className:"w-6 h-6 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:L.totalItems}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"en"===b?"Total Items":"Total Item"})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-2xl p-6 border-l-4 border-red-500 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(s.AlertTriangle,{className:"w-6 h-6 text-red-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:L.outOfStock}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"en"===b?"Out of Stock":"Item Habis"})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-2xl p-6 border-l-4 border-yellow-500 shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(o.TrendingDown,{className:"w-6 h-6 text-yellow-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-3xl font-bold text-gray-900",children:L.lowStock}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"en"===b?"Low Stock":"Stok Rendah"})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 mb-6 border border-gray-100 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:(0,t.jsx)(u.PieChart,{className:"w-5 h-5 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"en"===b?"Stock Status Distribution":"Distribusi Status Stok"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"en"===b?"Breakdown of inventory item status":"Breakdown status inventory items"})]})]}),(0,t.jsx)("div",{className:"w-full h-80",children:0===B.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,t.jsx)(i.Package,{className:"w-16 h-16 mb-3 opacity-50"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"Belum ada data stok"}),(0,t.jsx)("p",{className:"text-xs",children:"Tambahkan ingredients untuk melihat distribusi"})]}):(0,t.jsx)(x.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(m.PieChart,{children:[(0,t.jsx)(p.Pie,{data:B,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:t})=>`${e}: ${(100*(t||0)).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:B.map((e,r)=>(0,t.jsx)(g.Cell,{fill:e.color},`cell-${r}`))}),(0,t.jsx)(y.Tooltip,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:e=>[`${e} ${"en"===b?"items":"item"}`,"en"===b?"Quantity":"Jumlah"]}),(0,t.jsx)(h.Legend,{verticalAlign:"bottom",height:36,formatter:(e,t)=>{let r=B.find(t=>t.name===e);return`${e} (${r?.value||0} ${"en"===b?"items":"item"})`}})]})})}),B.length>0&&(0,t.jsx)("div",{className:"mt-4 grid grid-cols-4 gap-4",children:B.map((e,r)=>(0,t.jsxs)("div",{className:"p-3 rounded-lg border-2",style:{borderColor:e.color,backgroundColor:`${e.color}10`},children:[(0,t.jsx)("p",{className:"text-xs font-medium",style:{color:e.color},children:e.name}),(0,t.jsx)("p",{className:"text-2xl font-bold",style:{color:e.color},children:e.value}),(0,t.jsx)("p",{className:"text-xs",style:{color:e.color},children:"en"===b?"items":"item"})]},r))})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.Search,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,t.jsx)("input",{type:"text",value:R,onChange:e=>C(e.target.value),placeholder:"en"===b?"Search ingredients...":"Cari ingredient...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)] transition-all"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"en"===b?"Ingredient":"Bahan"}),(0,t.jsx)("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:"en"===b?"Category":"Kategori"}),(0,t.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"en"===b?"Current Stock":"Stok Saat Ini"}),(0,t.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"Reorder Level"}),(0,t.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"Par Level"}),(0,t.jsx)("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-900",children:"en"===b?"Value":"Nilai"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===z.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:R?"en"===b?"No items match your search":"Tidak ada item yang cocok dengan pencarian":"en"===b?"No items in inventory":"Tidak ada item dalam inventory"})}):z.map(e=>{let r,a,n,l,s=(r=e.quantity_on_hand,a=e.ingredient.par_level||100,n=e.ingredient.reorder_level||20,l=r/a*100,0===r?{label:"en"===b?"Out of Stock":"Habis",color:"bg-red-600 text-white",percentage:0}:r<=n?{label:"en"===b?"Very Low":"Sangat Rendah",color:"bg-red-500 text-white",percentage:l}:l<50?{label:"en"===b?"Low":"Rendah",color:"bg-orange-500 text-white",percentage:l}:l<80?{label:"en"===b?"Medium":"Sedang",color:"bg-yellow-500 text-white",percentage:l}:l<=120?{label:"en"===b?"Good":"Baik",color:"bg-green-500 text-white",percentage:l}:{label:"en"===b?"Overstocked":"Berlebih",color:"bg-blue-500 text-white",percentage:l}),o=e.quantity_on_hand*e.ingredient.unit_cost;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.Package,{className:"w-6 h-6 text-gray-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.ingredient.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.ingredient.unit})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:e.ingredient.category})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-center",children:[(0,t.jsx)("span",{className:"text-xl font-bold text-gray-900",children:e.quantity_on_hand}),(0,t.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:e.ingredient.unit})]}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[e.ingredient.reorder_level," ",e.ingredient.unit]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[e.ingredient.par_level," ",e.ingredient.unit]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-center",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${s.color}`,children:s.label}),s.percentage>0&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Math.round(s.percentage),"%"]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)("span",{className:"font-medium text-gray-900",children:F(o)})})]},e.id)})})]})})})]}),w&&k&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"add"===O?"Tambah Stok":"Kurangi Stok"}),(0,t.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:k.ingredient.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Stok saat ini: ",(0,t.jsxs)("span",{className:"font-bold",children:[k.quantity_on_hand," ",k.ingredient.unit]})]})]}),(0,t.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Jumlah (",k.ingredient.unit,")"]}),(0,t.jsx)("input",{type:"number",min:"0.01",step:"0.01",required:!0,value:T,onChange:e=>D(e.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",placeholder:"Masukkan jumlah"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catatan (opsional)"}),(0,t.jsx)("textarea",{value:I,onChange:e=>_(e.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]",placeholder:"Alasan penyesuaian stok"})]}),T&&(0,t.jsx)("div",{className:"p-4 bg-blue-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Stok baru: ",(0,t.jsxs)("span",{className:"font-bold text-blue-700",children:["add"===O?k.quantity_on_hand+parseFloat(T):k.quantity_on_hand-parseFloat(T)," ",k.ingredient.unit]})]})}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>A(!1),className:"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Batal"}),(0,t.jsx)("button",{type:"submit",className:`flex-1 px-4 py-2 text-white rounded-lg font-medium transition-colors ${"add"===O?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"}`,children:"add"===O?"Tambah":"Kurangi"})]})]})]})})]})}e.s(["default",()=>f])}]);