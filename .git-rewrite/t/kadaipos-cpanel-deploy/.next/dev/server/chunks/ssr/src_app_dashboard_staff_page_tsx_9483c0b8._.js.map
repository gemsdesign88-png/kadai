{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/gemmyadyendra/Documents/kadaipos.id/src/app/dashboard/staff/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { useLanguage } from \"@/lib/i18n/context\"\nimport { Plus, Edit2, Trash2, Search, User, Phone, Briefcase, BarChart3, TrendingUp } from \"lucide-react\"\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Legend } from 'recharts'\n\ntype StaffRole = 'manager'\n\nexport default function StaffPage() {\n  const router = useRouter()\n  const supabase = createClient()\n  const { language } = useLanguage()\n  const [loading, setLoading] = useState(true)\n  const [staff, setStaff] = useState<any[]>([])\n  const [filteredStaff, setFilteredStaff] = useState<any[]>([])\n  const [searchTerm, setSearchTerm] = useState('')\n  const [selectedRole, setSelectedRole] = useState<string>('all')\n  const [showModal, setShowModal] = useState(false)\n  const [editingStaff, setEditingStaff] = useState<any>(null)\n  const [restaurant, setRestaurant] = useState<any>(null)\n  const [availableRoles, setAvailableRoles] = useState<any[]>([])\n  const [staffPerformance, setStaffPerformance] = useState<any[]>([])\n  const [performancePeriod, setPerformancePeriod] = useState<'week' | 'month'>('week')\n  \n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    role: '',\n    pin: ''\n  })\n\n  useEffect(() => {\n    loadStaff()\n    loadRoles()\n    loadStaffPerformance()\n  }, [])\n\n  useEffect(() => {\n    loadStaffPerformance()\n  }, [performancePeriod])\n\n  useEffect(() => {\n    filterStaff()\n  }, [searchTerm, selectedRole, staff])\n\n  async function loadRoles() {\n    try {\n      const selectedRestaurantId = localStorage.getItem('selected_restaurant_id')\n      if (!selectedRestaurantId) return\n\n      // Load unique roles from staff table\n      const { data: staffData } = await supabase\n        .from('staff')\n        .select('role')\n        .eq('restaurant_id', selectedRestaurantId)\n\n      if (staffData) {\n        // Get unique roles\n        const uniqueRoles = [...new Set(staffData.map(s => s.role).filter(Boolean))]\n        setAvailableRoles(uniqueRoles.map(role => ({ value: role, label: role })))\n      }\n    } catch (error) {\n      console.error('Error loading roles:', error)\n    }\n  }\n\n  async function loadStaffPerformance() {\n    try {\n      const selectedRestaurantId = localStorage.getItem('selected_restaurant_id')\n      if (!selectedRestaurantId) return\n\n      // Calculate date range\n      const now = new Date()\n      const startDate = new Date()\n      if (performancePeriod === 'week') {\n        startDate.setDate(now.getDate() - 7)\n      } else {\n        startDate.setDate(now.getDate() - 30)\n      }\n\n      // Fetch orders with staff_id\n      const { data: orders } = await supabase\n        .from('orders')\n        .select('staff_id, total, status')\n        .eq('restaurant_id', selectedRestaurantId)\n        .gte('created_at', startDate.toISOString())\n        .neq('status', 'cancelled')\n\n      if (!orders || orders.length === 0) {\n        setStaffPerformance([])\n        return\n      }\n\n      // Calculate performance by staff\n      const performanceMap = new Map<string, { revenue: number; orders: number }>()\n      \n      orders.forEach(order => {\n        if (order.staff_id) {\n          const existing = performanceMap.get(order.staff_id) || { revenue: 0, orders: 0 }\n          performanceMap.set(order.staff_id, {\n            revenue: existing.revenue + (order.total || 0),\n            orders: existing.orders + 1\n          })\n        }\n      })\n\n      // Get staff names\n      const staffIds = Array.from(performanceMap.keys())\n      const { data: staffData } = await supabase\n        .from('staff')\n        .select('id, name')\n        .in('id', staffIds)\n\n      const performanceData = staffIds.map(staffId => {\n        const perf = performanceMap.get(staffId)!\n        const staffMember = staffData?.find(s => s.id === staffId)\n        return {\n          name: staffMember?.name || 'Unknown',\n          revenue: perf.revenue,\n          orders: perf.orders,\n          avgOrder: perf.orders > 0 ? perf.revenue / perf.orders : 0\n        }\n      }).sort((a, b) => b.revenue - a.revenue)\n\n      setStaffPerformance(performanceData)\n    } catch (error) {\n      console.error('Error loading staff performance:', error)\n      setStaffPerformance([])\n    }\n  }\n\n  async function loadStaff() {\n    setLoading(true)\n    try {\n      const { data: { user } } = await supabase.auth.getUser()\n      if (!user) {\n        router.push('/login')\n        return\n      }\n\n      // Get selected restaurant from localStorage\n      const selectedRestaurantId = localStorage.getItem('selected_restaurant_id')\n      console.log('Selected restaurant ID:', selectedRestaurantId)\n      \n      if (!selectedRestaurantId) {\n        router.push('/dashboard')\n        return\n      }\n\n      const { data: restaurants, error: restaurantError } = await supabase\n        .from('restaurants')\n        .select('*')\n        .eq('id', selectedRestaurantId)\n        .eq('owner_id', user.id)\n        .single()\n\n      console.log('Restaurant:', restaurants, 'Error:', restaurantError)\n\n      if (!restaurants) return\n      setRestaurant(restaurants)\n\n      const { data: staffData, error: staffError } = await supabase\n        .from('staff')\n        .select('*')\n        .eq('restaurant_id', restaurants.id)\n        .order('name')\n\n      console.log('Staff data:', staffData, 'Error:', staffError)\n      console.log('Staff count:', staffData?.length)\n\n      if (staffData) {\n        setStaff(staffData)\n      } else {\n        setStaff([])\n      }\n    } catch (error) {\n      console.error('Error loading staff:', error)\n      setStaff([])\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  function filterStaff() {\n    let filtered = staff\n\n    if (selectedRole !== 'all') {\n      filtered = filtered.filter(s => s.role === selectedRole)\n    }\n\n    if (searchTerm) {\n      filtered = filtered.filter(s =>\n        s.name?.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    }\n\n    setFilteredStaff(filtered)\n  }\n\n  function openModal(staffMember: any = null) {\n    if (staffMember) {\n      setEditingStaff(staffMember)\n      setFormData({\n        name: staffMember.name || '',\n        phone: staffMember.phone || '',\n        role: staffMember.role || '',\n        pin: ''\n      })\n    } else {\n      setEditingStaff(null)\n      setFormData({\n        name: '',\n        phone: '',\n        role: '',\n        pin: ''\n      })\n    }\n    setShowModal(true)\n  }\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault()\n    \n    if (!restaurant) return\n\n    const staffData = {\n      name: formData.name,\n      phone: formData.phone,\n      role: formData.role,\n      restaurant_id: restaurant.id,\n      ...(formData.pin && { pin: formData.pin })\n    }\n\n    try {\n      if (editingStaff) {\n        await supabase\n          .from('staff')\n          .update(staffData)\n          .eq('id', editingStaff.id)\n      } else {\n        await supabase\n          .from('staff')\n          .insert(staffData)\n      }\n\n      setShowModal(false)\n      loadStaff()\n      loadRoles() // Refresh roles list\n    } catch (error) {\n      console.error('Error saving staff:', error)\n    }\n  }\n\n  async function deleteStaff(id: string) {\n    if (!confirm('Hapus staff ini?')) return\n\n    try {\n      await supabase\n        .from('staff')\n        .delete()\n        .eq('id', id)\n\n      loadStaff()\n    } catch (error) {\n      console.error('Error deleting staff:', error)\n    }\n  }\n\n  const getRoleLabel = (role: string) => {\n    return role || 'Tidak ada peran'\n  }\n\n  const getRoleColor = (role: string) => {\n    if (role === 'manager') return 'bg-purple-100 text-purple-800 border-purple-200'\n    return 'bg-blue-100 text-blue-800 border-blue-200'\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[var(--color-accent)]\"></div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"p-8\">\n      {/* Header */}\n      <div className=\"mb-8 flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">{language === 'en' ? 'Manage Staff' : 'Kelola Staff'}</h1>\n          <p className=\"text-gray-600\">{language === 'en' ? 'Manage staff accounts and roles' : 'Kelola akun dan peran staff'}</p>\n        </div>\n        <button\n          onClick={() => openModal()}\n          className=\"flex items-center gap-2 px-6 py-3 bg-[var(--color-accent)] text-white rounded-xl font-semibold hover:bg-[var(--color-accent-hover)] transition-colors\"\n        >\n          <Plus className=\"w-5 h-5\" />\n          {language === 'en' ? 'Add Staff' : 'Tambah Staff'}\n        </button>\n      </div>\n\n      {/* Staff Performance Chart */}\n      <div className=\"bg-white rounded-2xl p-6 mb-6 border border-gray-100 shadow-sm\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center\">\n              <BarChart3 className=\"w-5 h-5 text-white\" />\n            </div>\n            <div>\n              <h3 className=\"text-lg font-bold text-gray-900\">{language === 'en' ? 'Staff Performance' : 'Performa Staff'}</h3>\n              <p className=\"text-xs text-gray-600\">{language === 'en' ? 'Revenue and order count per staff' : 'Revenue dan jumlah pesanan per staff'}</p>\n            </div>\n          </div>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setPerformancePeriod('week')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                performancePeriod === 'week'\n                  ? 'bg-[var(--color-accent)] text-white'\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n              }`}\n            >\n              {language === 'en' ? '7 Days' : '7 Hari'}\n            </button>\n            <button\n              onClick={() => setPerformancePeriod('month')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                performancePeriod === 'month'\n                  ? 'bg-[var(--color-accent)] text-white'\n                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n              }`}\n            >\n              {language === 'en' ? '30 Days' : '30 Hari'}\n            </button>\n          </div>\n        </div>\n        \n        <div className=\"w-full h-80\">\n          {staffPerformance.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center h-full text-gray-400\">\n              <TrendingUp className=\"w-16 h-16 mb-3 opacity-50\" />\n              <p className=\"text-sm font-medium\">Belum ada data performa</p>\n              <p className=\"text-xs\">Pesanan dengan staff_id akan muncul di sini</p>\n            </div>\n          ) : (\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <BarChart data={staffPerformance} layout=\"vertical\" margin={{ left: 80 }}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                <XAxis type=\"number\" stroke=\"#6b7280\" style={{ fontSize: '11px' }} />\n                <YAxis \n                  type=\"category\" \n                  dataKey=\"name\" \n                  stroke=\"#6b7280\" \n                  style={{ fontSize: '11px' }}\n                  width={75}\n                />\n                <Tooltip \n                  contentStyle={{ \n                    backgroundColor: '#fff', \n                    border: '1px solid #e5e7eb', \n                    borderRadius: '8px' \n                  }}\n                  formatter={(value: any, name: string) => {\n                    if (name === 'revenue') return [`Rp ${Number(value).toLocaleString('id-ID')}`, 'Revenue']\n                    if (name === 'orders') return [value, 'Pesanan']\n                    return [value, name]\n                  }}\n                />\n                <Legend />\n                <Bar dataKey=\"revenue\" fill=\"#3b82f6\" name=\"Revenue (Rp)\" radius={[0, 4, 4, 0]} />\n                <Bar dataKey=\"orders\" fill=\"#10b981\" name=\"Jumlah Pesanan\" radius={[0, 4, 4, 0]} />\n              </BarChart>\n            </ResponsiveContainer>\n          )}\n        </div>\n        \n        {staffPerformance.length > 0 && (\n          <div className=\"mt-4 grid grid-cols-3 gap-4\">\n            <div className=\"p-3 rounded-lg bg-blue-50\">\n              <p className=\"text-xs text-blue-600 font-medium\">Total Revenue</p>\n              <p className=\"text-lg font-bold text-blue-900\">\n                Rp {staffPerformance.reduce((sum, s) => sum + s.revenue, 0).toLocaleString('id-ID')}\n              </p>\n            </div>\n            <div className=\"p-3 rounded-lg bg-green-50\">\n              <p className=\"text-xs text-green-600 font-medium\">Total Pesanan</p>\n              <p className=\"text-lg font-bold text-green-900\">\n                {staffPerformance.reduce((sum, s) => sum + s.orders, 0)}\n              </p>\n            </div>\n            <div className=\"p-3 rounded-lg bg-purple-50\">\n              <p className=\"text-xs text-purple-600 font-medium\">Avg per Pesanan</p>\n              <p className=\"text-lg font-bold text-purple-900\">\n                Rp {Math.round(\n                  staffPerformance.reduce((sum, s) => sum + s.revenue, 0) / \n                  staffPerformance.reduce((sum, s) => sum + s.orders, 0)\n                ).toLocaleString('id-ID')}\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div>\n        {/* Search and Filter */}\n        <div className=\"bg-white rounded-2xl p-4 mb-6 border border-gray-100 shadow-sm\">\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"flex-1 relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Cari staff...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-accent)]\"\n              />\n            </div>\n            <select\n              value={selectedRole}\n              onChange={(e) => setSelectedRole(e.target.value)}\n              className=\"px-4 py-2.5 border-2 border-gray-200 rounded-xl font-medium focus:outline-none focus:border-gray-400 hover:border-gray-300 transition-all cursor-pointer\"\n            >\n              <option value=\"all\">Semua Peran</option>\n              {availableRoles.map(role => (\n                <option key={role.value} value={role.value}>{role.label}</option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        {/* Staff Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {filteredStaff.length === 0 ? (\n            <div className=\"col-span-full bg-white rounded-2xl p-12 text-center border border-gray-100\">\n              <User className=\"w-16 h-16 text-gray-300 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                {staff.length === 0 ? 'Belum Ada Staff' : 'Tidak ada staff ditemukan'}\n              </h3>\n              <p className=\"text-gray-500 mb-6\">\n                {staff.length === 0 \n                  ? 'Tambahkan staff pertama untuk mulai mengelola tim Anda'\n                  : 'Coba ubah filter atau kata kunci pencarian'}\n              </p>\n              {staff.length === 0 && (\n                <button\n                  onClick={() => openModal()}\n                  className=\"inline-flex items-center gap-2 px-6 py-3 bg-[var(--color-accent)] text-white rounded-xl font-semibold hover:bg-[var(--color-accent-hover)] transition-colors\"\n                >\n                  <Plus className=\"w-5 h-5\" />\n                  Tambah Staff Pertama\n                </button>\n              )}\n            </div>\n          ) : (\n            filteredStaff.map((member) => (\n              <div key={member.id} className=\"bg-white rounded-2xl p-6 border border-gray-100 shadow-sm hover:shadow-md transition-shadow\">\n                <div className=\"flex items-center gap-4 mb-4\">\n                  <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center\">\n                    <User className=\"w-8 h-8 text-gray-400\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-bold text-lg text-gray-900\">{member.name}</h3>\n                    <span className={`inline-block px-2 py-1 rounded-full text-xs font-semibold border ${getRoleColor(member.role)}`}>\n                      {getRoleLabel(member.role)}\n                    </span>\n                  </div>\n                </div>\n                \n                <div className=\"space-y-2 mb-4\">\n                  <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n                    <Phone className=\"w-4 h-4\" />\n                    <span>{member.phone || '-'}</span>\n                  </div>\n                </div>\n\n                <div className=\"flex gap-2\">\n                  <button\n                    onClick={() => openModal(member)}\n                    className=\"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors\"\n                  >\n                    <Edit2 className=\"w-4 h-4\" />\n                    Edit\n                  </button>\n                  <button\n                    onClick={() => deleteStaff(member.id)}\n                    className=\"px-4 py-2 bg-red-500 text-white rounded-lg font-medium hover:bg-red-600 transition-colors\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                  </button>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-2xl p-6 max-w-md w-full\">\n            <h2 className=\"text-2xl font-bold mb-6\">\n              {editingStaff ? 'Edit Staff' : 'Tambah Staff'}\n            </h2>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Nama Lengkap\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.name}\n                  onChange={(e) => setFormData({...formData, name: e.target.value})}\n                  className=\"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl font-medium focus:outline-none focus:border-gray-400 hover:border-gray-300 transition-all\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Telepon\n                </label>\n                <input\n                  type=\"tel\"\n                  value={formData.phone}\n                  onChange={(e) => setFormData({...formData, phone: e.target.value})}\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF5A5F]\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Peran\n                </label>\n                <input\n                  type=\"text\"\n                  required\n                  value={formData.role}\n                  onChange={(e) => setFormData({...formData, role: e.target.value})}\n                  list=\"role-suggestions\"\n                  placeholder=\"Contoh: manager, kang kopi, pembuat snack\"\n                  className=\"w-full px-4 py-2.5 border-2 border-gray-200 rounded-xl font-medium focus:outline-none focus:border-gray-400 hover:border-gray-300 transition-all\"\n                />\n                <datalist id=\"role-suggestions\">\n                  {availableRoles.map(role => (\n                    <option key={role.value} value={role.value} />\n                  ))}\n                </datalist>\n                {availableRoles.length > 0 && (\n                  <p className=\"mt-2 text-xs text-gray-500\">\n                    Peran yang sudah ada: {availableRoles.map(r => r.label).join(', ')}\n                  </p>\n                )}\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  PIN (4 digit)\n                </label>\n                <input\n                  type=\"password\"\n                  maxLength={4}\n                  pattern=\"[0-9]{4}\"\n                  placeholder={editingStaff ? 'Kosongkan jika tidak diubah' : ''}\n                  required={!editingStaff}\n                  value={formData.pin}\n                  onChange={(e) => setFormData({...formData, pin: e.target.value})}\n                  className=\"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#FF5A5F]\"\n                />\n              </div>\n              <div className=\"flex gap-2 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setShowModal(false)}\n                  className=\"flex-1 px-4 py-2 border border-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors\"\n                >\n                  Batal\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"flex-1 px-4 py-2 bg-[var(--color-accent)] text-white rounded-lg font-medium hover:bg-[var(--color-accent-hover)] transition-colors\"\n                >\n                  {editingStaff ? 'Simpan' : 'Tambah'}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}