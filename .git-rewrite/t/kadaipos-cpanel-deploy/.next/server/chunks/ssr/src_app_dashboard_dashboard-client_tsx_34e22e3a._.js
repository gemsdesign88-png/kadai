module.exports=[24135,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(95445),e=a.i(90166),f=a.i(38784),g=a.i(41710),h=a.i(83497),i=a.i(50522),j=a.i(23312),k=a.i(16201),l=a.i(24669),m=a.i(60246),n=a.i(49683),o=a.i(67900),p=a.i(39761),q=a.i(1027),r=a.i(72131),s=a.i(21979),t=a.i(57431),u=a.i(77924),v=a.i(58042),w=a.i(94222),x=a.i(54419),y=a.i(59854),z=a.i(48662),A=a.i(48280),B=a.i(23665),C=a.i(2274);function D({restaurants:a}){let D=(0,c.useRouter)(),E=(0,d.createClient)(),{language:F}=(0,s.useLanguage)(),[G,H]=(0,r.useState)(!1),[I,J]=(0,r.useState)(null),[K,L]=(0,r.useState)("daily"),[M,N]=(0,r.useState)({todayRevenue:0,todayOrders:0,weekRevenue:0,weekOrders:0,monthRevenue:0,yearRevenue:0,activeOrders:0,lowStockItems:0,outOfStockItems:0,avgOrderValue:0,totalCustomers:0,growthPercent:0}),[O,P]=(0,r.useState)([]),[Q,R]=(0,r.useState)([]),[S,T]=(0,r.useState)([]),[U,V]=(0,r.useState)([]),[W,X]=(0,r.useState)([]),[Y,Z]=(0,r.useState)(!0),[$,_]=(0,r.useState)([]),[aa,ab]=(0,r.useState)([]),[ac,ad]=(0,r.useState)([]),[ae,af]=(0,r.useState)([]),[ag,ah]=(0,r.useState)("daily"),[ai,aj]=(0,r.useState)("daily"),[ak,al]=(0,r.useState)([]);function am(a){let b=a||ak;if(!b.length)return;let c=new Date(new Date);c.setHours(0,0,0,0);let d=new Date(c);d.setDate(c.getDate()-7);let e=b.filter(a=>new Date(a.paid_at)>=d&&"cancelled"!==a.status),f=[];if("daily"===ag){let a={};for(let d=29;d>=0;d--){let e=new Date(c);e.setDate(c.getDate()-d);let f=e.toLocaleDateString("id-ID",{month:"short",day:"numeric"}),g=new Date(e);g.setDate(g.getDate()+1);let h=b.filter(a=>{let b=new Date(a.paid_at);return b>=e&&b<g&&"cancelled"!==a.status}).reduce((a,b)=>a+(b.total||0),0);a[f]=h}f=Object.entries(a).map(([a,b])=>({date:a,revenue:Math.round(b)}))}else if("weekly"===ag)for(let a=11;a>=0;a--){let d=new Date(c);d.setDate(c.getDate()-7*a);let e=new Date(d);e.setDate(d.getDate()-7);let g=b.filter(a=>{let b=new Date(a.paid_at);return b>=e&&b<d&&"cancelled"!==a.status}).reduce((a,b)=>a+(b.total||0),0),h=`${e.toLocaleDateString("id-ID",{month:"short",day:"numeric"})}`;f.push({date:h,revenue:Math.round(g)})}else for(let a=11;a>=0;a--){let d=new Date(c);d.setMonth(c.getMonth()-a),d.setDate(1);let e=new Date(d);e.setMonth(d.getMonth()+1);let g=b.filter(a=>{let b=new Date(a.paid_at);return b>=d&&b<e&&"cancelled"!==a.status}).reduce((a,b)=>a+(b.total||0),0),h=d.toLocaleDateString("id-ID",{month:"short",year:"numeric"});f.push({date:h,revenue:Math.round(g)})}ad(f);let g=[];if("daily"===ai){let a={Monday:{orders:0,revenue:0},Tuesday:{orders:0,revenue:0},Wednesday:{orders:0,revenue:0},Thursday:{orders:0,revenue:0},Friday:{orders:0,revenue:0},Saturday:{orders:0,revenue:0},Sunday:{orders:0,revenue:0}},b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];e.forEach(c=>{let d=b[new Date(c.paid_at).getDay()];a[d].orders+=1,a[d].revenue+=c.total||0}),g=Object.entries(a).map(([a,b])=>({day:"en"===F?a:"Monday"===a?"Senin":"Tuesday"===a?"Selasa":"Wednesday"===a?"Rabu":"Thursday"===a?"Kamis":"Friday"===a?"Jumat":"Saturday"===a?"Sabtu":"Minggu",orders:b.orders,avgOrderValue:b.orders>0?Math.round(b.revenue/b.orders):0}))}else if("weekly"===ai)for(let a=7;a>=0;a--){let d=new Date(c);d.setDate(c.getDate()-7*a);let e=new Date(d);e.setDate(d.getDate()-7);let f=b.filter(a=>{let b=new Date(a.paid_at);return b>=e&&b<d&&"cancelled"!==a.status}),h=f.reduce((a,b)=>a+(b.total||0),0),i=`W${8-a}`;g.push({day:i,orders:f.length,avgOrderValue:f.length>0?Math.round(h/f.length):0})}else for(let a=11;a>=0;a--){let d=new Date(c);d.setMonth(c.getMonth()-a),d.setDate(1);let e=new Date(d);e.setMonth(d.getMonth()+1);let f=b.filter(a=>{let b=new Date(a.paid_at);return b>=d&&b<e&&"cancelled"!==a.status}),h=f.reduce((a,b)=>a+(b.total||0),0),i=d.toLocaleDateString("id-ID",{month:"short"});g.push({day:i,orders:f.length,avgOrderValue:f.length>0?Math.round(h/f.length):0})}af(g)}async function an(){if(I){Z(!0);try{let a=new Date,b=new Date(a);b.setHours(0,0,0,0);let c=new Date(b);c.setDate(c.getDate()+1);let d=new Date(b);d.setDate(b.getDate()-7);let e=new Date(d);e.setDate(e.getDate()-7);let f=new Date(b.getFullYear(),b.getMonth(),1),g=new Date(b.getFullYear(),0,1),{data:i}=await E.from("orders").select("*, order_items(*)").eq("restaurant_id",I.id).eq("payment_status","paid").gte("paid_at",g.toISOString()).order("paid_at",{ascending:!1}),{data:j}=await E.from("orders").select("*").eq("restaurant_id",I.id).not("status","in","(completed,cancelled)"),{data:k}=await E.from("menu_items").select("*").eq("restaurant_id",I.id),{data:p}=await E.from("staff").select("*").eq("restaurant_id",I.id),{data:q}=await E.from("tables").select("*").eq("restaurant_id",I.id),{data:r}=await E.from("stock_items").select("*, ingredient:ingredients(*)").eq("restaurant_id",I.id);if(i){let a=i.filter(a=>{let d=new Date(a.paid_at);return d>=b&&d<c&&"cancelled"!==a.status}),k=i.filter(a=>new Date(a.paid_at)>=d&&"cancelled"!==a.status),q=i.filter(a=>{let b=new Date(a.paid_at);return b>=e&&b<d&&"cancelled"!==a.status}),s=i.filter(a=>new Date(a.paid_at)>=f&&"cancelled"!==a.status),t=i.filter(a=>new Date(a.paid_at)>=g&&"cancelled"!==a.status),u=a.reduce((a,b)=>a+(b.total||0),0),v=k.reduce((a,b)=>a+(b.total||0),0),w=q.reduce((a,b)=>a+(b.total||0),0),x=s.reduce((a,b)=>a+(b.total||0),0),y=t.reduce((a,b)=>a+(b.total||0),0),z=w>0?(v-w)/w*100:0,A=k.length>0?v/k.length:0,B=new Set(k.map(a=>a.id)).size,C={};k.forEach(a=>{a.order_items?.forEach(a=>{let b=a.item_name||a.name;C[b]||(C[b]={name:b,revenue:0,count:0}),C[b].revenue+=a.subtotal||0,C[b].count+=a.quantity||1})});let D=Object.values(C).sort((a,b)=>b.revenue-a.revenue).slice(0,5),E={};k.forEach(a=>{a.table_number&&(E[a.table_number]||(E[a.table_number]={tableNumber:a.table_number,orders:0,revenue:0,avgOrder:0}),E[a.table_number].orders+=1,E[a.table_number].revenue+=a.total||0)});let G=Object.values(E).map(a=>({...a,avgOrder:a.revenue/a.orders})).sort((a,b)=>b.revenue-a.revenue).slice(0,5),H={};k.forEach(a=>{if(a.staff_id&&p){let b=p.find(b=>b.id===a.staff_id),c=b?.name||"Unknown";H[a.staff_id]||(H[a.staff_id]={name:c,orders:0,revenue:0,rating:0}),H[a.staff_id].orders+=1,H[a.staff_id].revenue+=a.total||0}});let I=Object.values(H).sort((a,b)=>b.revenue-a.revenue).slice(0,5);al(i),am(i);let J=0,K=0;r&&r.forEach(a=>{0===a.quantity_on_hand?K++:a.ingredient&&a.quantity_on_hand<=a.ingredient.reorder_level&&J++});let L=[];z>0&&L.push({id:"growth",type:"positive",icon:l.TrendingUp,title:"en"===F?"Strong Growth":"Pertumbuhan Kuat",message:`${z.toFixed(1)}% pertumbuhan pendapatan minggu ini`,color:"green",link:"/dashboard/analytics"}),D.length>0&&L.push({id:"top-item",type:"info",icon:n.UtensilsCrossed,title:"en"===F?"Top Seller":"Penjual Terbaik",message:`${D[0].name} adalah menu terlaris dengan ${D[0].count} penjualan`,color:"blue",link:"/dashboard/menu"}),G.length>0&&L.push({id:"top-table",type:"info",icon:o.Building2,title:"en"===F?"Popular Table":"Meja Populer",message:`Meja ${G[0].tableNumber} adalah yang paling ramai minggu ini`,color:"purple",link:"/dashboard/tables"}),I.length>0&&L.push({id:"top-staff",type:"info",icon:m.Users,title:"en"===F?"Top Staff":"Staf Terbaik",message:`${I[0].name} mencatat ${ao(I[0].revenue)} penjualan`,color:"indigo",link:"/dashboard/staff"}),(K>0||J>0)&&L.push({id:"stock-alert",type:"warning",icon:h.Package,title:"en"===F?"Stock Alert":"Peringatan Stok",message:`${K} item habis & ${J} item stok rendah. Segera lakukan restocking`,color:"orange",link:"/dashboard/inventory"}),B>0&&L.push({id:"customer-activity",type:"info",icon:m.Users,title:"en"===F?"Customer Activity":"Aktivitas Pelanggan",message:"en"===F?`${B} customers this week. Keep them engaged with promotions!`:`${B} pelanggan minggu ini. Pertahankan dengan promosi menarik!`,color:"pink",link:"/dashboard/customers"}),N({todayRevenue:u,todayOrders:a.length,weekRevenue:v,weekOrders:k.length,monthRevenue:x,yearRevenue:y,activeOrders:j?.length||0,lowStockItems:J,outOfStockItems:K,avgOrderValue:Math.round(A),totalCustomers:B,growthPercent:Math.round(10*z)/10}),P(D),R(G),T(I),V(L),X(a.slice(0,5));let M=[];K>0&&M.push({id:"stock-out",type:"error",message:`${K} item ${"en"===F?"out of stock":"habis stok"}`,action:"en"===F?"Check Inventory":"Cek Stok",link:"/dashboard/inventory"}),J>0&&M.push({id:"stock-low",type:"warning",message:`${J} item ${"en"===F?"low stock":"stok menipis"}`,action:"en"===F?"Check Inventory":"Cek Stok",link:"/dashboard/inventory"}),j&&j.length>5&&M.push({id:"orders-pending",type:"info",message:`${j.length} ${"en"===F?"orders in progress":"pesanan sedang diproses"}`,action:"en"===F?"View Orders":"Lihat Pesanan",link:"/dashboard/orders"}),ab(M);let O=[];r&&r.forEach(a=>{0===a.quantity_on_hand&&a.ingredient?O.push({id:`restock-${a.id}`,text:`Restock ${a.ingredient.name}`,priority:"high",link:"/dashboard/inventory"}):a.ingredient&&a.quantity_on_hand<=a.ingredient.reorder_level&&O.push({id:`order-${a.id}`,text:`Pesan ${a.ingredient.name} (stok: ${a.quantity_on_hand} ${a.ingredient.unit})`,priority:"medium",link:"/dashboard/inventory"})}),_(O.slice(0,5))}}catch(a){console.error("Error loading dashboard data:",a)}finally{Z(!1)}}}(0,r.useEffect)(()=>{if(a.length>0){let b=localStorage.getItem("selected_restaurant_id");if(b){let c=a.find(a=>a.id===b);c?J(c):(J(a[0]),localStorage.setItem("selected_restaurant_id",a[0].id))}else J(a[0]),localStorage.setItem("selected_restaurant_id",a[0].id)}let b=()=>{let b=localStorage.getItem("selected_restaurant_id");if(b&&a.length>0){let c=a.find(a=>a.id===b);c&&c.id!==I?.id&&J(c)}};return window.addEventListener("restaurantChanged",b),window.addEventListener("storage",b),()=>{window.removeEventListener("restaurantChanged",b),window.removeEventListener("storage",b)}},[a]),(0,r.useEffect)(()=>{I&&an()},[I]),(0,r.useEffect)(()=>{ak.length>0&&am()},[ag,ai,F]);let ao=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(a);return 0===a.length?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-[#FF5A5F]/5 via-white to-[#8B5CF6]/5 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center max-w-md p-8",children:[(0,b.jsx)(h.Package,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Belum Ada Bisnis"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8",children:"Tambahkan bisnis pertama Anda untuk mulai menggunakan KadaiPOS"}),(0,b.jsx)("button",{className:"px-8 py-4 bg-gradient-to-r from-[#FF5A5F] to-[#8B5CF6] text-white rounded-xl font-semibold hover:shadow-lg hover:scale-105 transition-all",onClick:()=>D.push("/dashboard/setup"),children:"Tambah Bisnis"})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("header",{className:"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-40",children:(0,b.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-1",children:"en"===F?"Welcome Back":"Selamat Datang"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString("en"===F?"en-US":"id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:I?.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"en"===F?"Current Restaurant":"Restoran Aktif"})]})]})})}),(0,b.jsx)("main",{className:"px-4 sm:px-6 lg:px-8 py-8",children:Y?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[var(--color-accent)]"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm hover:shadow-md transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-[var(--color-accent)] to-[var(--color-accent-hover)] rounded-xl flex items-center justify-center",children:(0,b.jsx)(e.DollarSign,{className:"w-5 h-5 text-white"})}),M.growthPercent>0&&(0,b.jsxs)("span",{className:"text-xs bg-green-50 text-green-700 px-2 py-1 rounded-full font-semibold",children:["+",M.growthPercent,"%"]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"en"===F?"This Week":"Minggu Ini"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:ao(M.weekRevenue)})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm hover:shadow-md transition-all",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:(0,b.jsx)(f.ShoppingCart,{className:"w-5 h-5 text-white"})})}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"en"===F?"Total Orders":"Total Pesanan"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:M.weekOrders})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm hover:shadow-md transition-all",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center",children:(0,b.jsx)(l.TrendingUp,{className:"w-5 h-5 text-white"})})}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"en"===F?"Avg Order":"Rata Pesanan"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:ao(M.avgOrderValue)})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm hover:shadow-md transition-all",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,b.jsx)(m.Users,{className:"w-5 h-5 text-white"})})}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"en"===F?"Customers":"Pelanggan"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900 leading-tight",children:M.totalCustomers})]}),(0,b.jsxs)("div",{className:`rounded-xl p-4 border shadow-sm hover:shadow-md transition-all ${M.activeOrders>0?"bg-yellow-50 border-yellow-100":"bg-white border-gray-100"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${M.activeOrders>0?"bg-gradient-to-br from-yellow-500 to-yellow-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:(0,b.jsx)(g.Clock,{className:"w-5 h-5 text-white"})}),M.activeOrders>0&&(0,b.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full font-semibold",children:"en"===F?"Active":"Aktif"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"en"===F?"In Progress":"Sedang Diproses"}),(0,b.jsx)("h3",{className:`text-lg font-bold leading-tight ${(M.activeOrders,"text-gray-900")}`,children:M.activeOrders})]})]}),(ac.length>0||ae.length>0)&&(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[ac.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.BarChart3,{className:"w-5 h-5 text-[var(--color-accent)]"}),(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900",children:["en"===F?"Revenue Trend":"Tren Pendapatan","daily"===ag&&` (${"en"===F?"30 Days":"30 Hari"})`,"weekly"===ag&&` (${"en"===F?"12 Weeks":"12 Minggu"})`,"monthly"===ag&&` (${"en"===F?"12 Months":"12 Bulan"})`]})]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>ah("daily"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${"daily"===ag?"bg-[var(--color-accent)] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"en"===F?"Daily":"Harian"}),(0,b.jsx)("button",{onClick:()=>ah("weekly"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${"weekly"===ag?"bg-[var(--color-accent)] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"en"===F?"Weekly":"Mingguan"}),(0,b.jsx)("button",{onClick:()=>ah("monthly"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${"monthly"===ag?"bg-[var(--color-accent)] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"en"===F?"Monthly":"Bulanan"})]})]}),(0,b.jsx)("div",{className:"w-full h-80",children:(0,b.jsx)(z.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(t.LineChart,{data:ac,children:[(0,b.jsx)(x.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,b.jsx)(v.XAxis,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),(0,b.jsx)(w.YAxis,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:a=>`Rp ${(a/1e6).toFixed(0)}M`}),(0,b.jsx)(y.Tooltip,{formatter:a=>ao(Number(a)),contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),(0,b.jsx)(u.Line,{type:"monotone",dataKey:"revenue",stroke:"var(--color-accent, #3b82f6)",strokeWidth:3,dot:{fill:"var(--color-accent, #3b82f6)",r:4},activeDot:{r:6},isAnimationActive:!0})]})})})]}),ae.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.ShoppingCart,{className:"w-5 h-5 text-[var(--color-accent)]"}),(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900",children:["en"===F?"Orders vs AOV":"Pesanan vs AOV","daily"===ai&&` (${"en"===F?"by Day":"per Hari"})`,"weekly"===ai&&` (${"en"===F?"8 Weeks":"8 Minggu"})`,"monthly"===ai&&` (${"en"===F?"12 Months":"12 Bulan"})`]})]}),(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>aj("daily"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${"daily"===ai?"bg-[var(--color-accent)] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"en"===F?"Daily":"Harian"}),(0,b.jsx)("button",{onClick:()=>aj("weekly"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${"weekly"===ai?"bg-[var(--color-accent)] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"en"===F?"Weekly":"Mingguan"}),(0,b.jsx)("button",{onClick:()=>aj("monthly"),className:`px-3 py-1 text-xs rounded-lg transition-colors ${"monthly"===ai?"bg-[var(--color-accent)] text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"en"===F?"Monthly":"Bulanan"})]})]}),(0,b.jsx)("div",{className:"w-full h-80",children:(0,b.jsx)(z.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsxs)(A.ComposedChart,{data:ae,children:[(0,b.jsx)(x.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,b.jsx)(v.XAxis,{dataKey:"day",stroke:"#6b7280",style:{fontSize:"12px"}}),(0,b.jsx)(w.YAxis,{yAxisId:"left",stroke:"#6b7280",style:{fontSize:"12px"},label:{value:"en"===F?"Orders":"Pesanan",angle:-90,position:"insideLeft"}}),(0,b.jsx)(w.YAxis,{yAxisId:"right",orientation:"right",stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:a=>`Rp ${(a/1e3).toFixed(0)}K`,label:{value:"AOV",angle:90,position:"insideRight"}}),(0,b.jsx)(y.Tooltip,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:a=>"number"==typeof a&&a>1e4?ao(a):a}),(0,b.jsx)(C.Legend,{}),(0,b.jsx)(B.Bar,{yAxisId:"left",dataKey:"orders",fill:"#3b82f6",name:"en"===F?"Orders":"Pesanan",radius:[8,8,0,0]}),(0,b.jsx)(u.Line,{yAxisId:"right",type:"monotone",dataKey:"avgOrderValue",stroke:"#10b981",strokeWidth:3,name:"en"===F?"Avg Order Value":"Nilai Pesanan Rata",dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})})}),(0,b.jsxs)("div",{className:"mt-4 grid grid-cols-1 gap-2 text-xs text-gray-600",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded"}),(0,b.jsx)("span",{children:"en"===F?"Blue bars: orders per day":"Bar biru: pesanan per hari"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded"}),(0,b.jsx)("span",{children:"en"===F?"Green line: average order value":"Garis hijau: nilai pesanan rata"})]})]})]})]}),U.length>0&&(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(q.Zap,{className:"w-5 h-5 text-[var(--color-accent)]"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"en"===F?"Business Insights":"Wawasan Bisnis"})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:U.map(a=>{let c=a.icon;return(0,b.jsxs)("div",{className:`rounded-2xl p-6 border-2 transition-all hover:shadow-lg hover:scale-105 ${"green"===a.color?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200":"blue"===a.color?"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200":"purple"===a.color?"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200":"orange"===a.color?"bg-gradient-to-br from-orange-50 to-amber-50 border-orange-200":"pink"===a.color?"bg-gradient-to-br from-pink-50 to-rose-50 border-pink-200":"bg-gradient-to-br from-indigo-50 to-blue-50 border-indigo-200"} shadow-md`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${"green"===a.color?"bg-gradient-to-br from-green-100 to-emerald-100":"blue"===a.color?"bg-gradient-to-br from-blue-100 to-cyan-100":"purple"===a.color?"bg-gradient-to-br from-purple-100 to-pink-100":"orange"===a.color?"bg-gradient-to-br from-orange-100 to-amber-100":"pink"===a.color?"bg-gradient-to-br from-pink-100 to-rose-100":"bg-gradient-to-br from-indigo-100 to-blue-100"}`,children:(0,b.jsx)(c,{className:`w-6 h-6 ${"green"===a.color?"text-green-600":"blue"===a.color?"text-blue-600":"purple"===a.color?"text-purple-600":"orange"===a.color?"text-orange-600":"pink"===a.color?"text-pink-600":"text-indigo-600"}`})}),(0,b.jsx)("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${"green"===a.color?"bg-green-100 text-green-700":"blue"===a.color?"bg-blue-100 text-blue-700":"purple"===a.color?"bg-purple-100 text-purple-700":"orange"===a.color?"bg-orange-100 text-orange-700":"pink"===a.color?"bg-pink-100 text-pink-700":"bg-indigo-100 text-indigo-700"}`,children:"⚡"})]}),(0,b.jsx)("h4",{className:`font-bold text-gray-900 mb-2 text-sm ${"green"===a.color?"text-green-900":"blue"===a.color?"text-blue-900":"purple"===a.color?"text-purple-900":"orange"===a.color?"text-orange-900":"pink"===a.color?"text-pink-900":"text-indigo-900"}`,children:a.title}),(0,b.jsx)("p",{className:`text-sm leading-relaxed ${"green"===a.color?"text-green-700":"blue"===a.color?"text-blue-700":"purple"===a.color?"text-purple-700":"orange"===a.color?"text-orange-700":"pink"===a.color?"text-pink-700":"text-indigo-700"}`,children:a.message}),(0,b.jsx)("div",{className:`mt-4 pt-4 border-t-2 ${"green"===a.color?"border-green-100":"blue"===a.color?"border-blue-100":"purple"===a.color?"border-purple-100":"orange"===a.color?"border-orange-100":"pink"===a.color?"border-pink-100":"border-indigo-100"}`,children:(0,b.jsx)("button",{onClick:()=>D.push(a.link),className:`text-xs font-semibold px-3 py-1.5 rounded-lg transition-all ${"green"===a.color?"bg-green-100 text-green-700 hover:bg-green-200":"blue"===a.color?"bg-blue-100 text-blue-700 hover:bg-blue-200":"purple"===a.color?"bg-purple-100 text-purple-700 hover:bg-purple-200":"orange"===a.color?"bg-orange-100 text-orange-700 hover:bg-orange-200":"pink"===a.color?"bg-pink-100 text-pink-700 hover:bg-pink-200":"bg-indigo-100 text-indigo-700 hover:bg-indigo-200"}`,children:"en"===F?"Learn More →":"Pelajari Lebih →"})})]},a.id)})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[aa.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(j.Bell,{className:"w-5 h-5 text-[var(--color-accent)]"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"en"===F?"Alerts":"Notifikasi"})]}),(0,b.jsx)("div",{className:"space-y-3",children:aa.slice(0,3).map(a=>(0,b.jsx)("div",{className:`p-4 rounded-lg border-l-4 ${"error"===a.type?"bg-red-50 border-red-500":"warning"===a.type?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"}`,children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:a.message}),(0,b.jsx)("button",{onClick:()=>D.push(a.link),className:"text-xs px-3 py-1 bg-white border border-gray-300 rounded hover:bg-gray-50 transition-colors whitespace-nowrap ml-2",children:a.action})]})},a.id))})]}),$.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(k.CheckCircle,{className:"w-5 h-5 text-[var(--color-accent)]"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"en"===F?"Action Items":"Hal yang Harus Dilakukan"})]}),(0,b.jsx)("div",{className:"space-y-2",children:$.slice(0,4).map(a=>(0,b.jsxs)("button",{onClick:()=>D.push(a.link),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors group text-left",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${"high"===a.priority?"bg-red-500":"medium"===a.priority?"bg-yellow-500":"bg-blue-500"}`}),(0,b.jsx)("span",{className:"text-gray-900 font-medium text-sm truncate",children:a.text})]}),(0,b.jsx)(i.ChevronRight,{className:"w-4 h-4 text-gray-400 group-hover:text-[var(--color-accent)] transition-colors flex-shrink-0"})]},a.id))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[O.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,b.jsx)(n.UtensilsCrossed,{className:"w-5 h-5 text-[var(--color-accent)]"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"en"===F?"Top Sellers":"Menu Terlaris"})]}),(0,b.jsx)("div",{className:"space-y-3",children:O.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:[a.count," ","en"===F?"sold":"terjual"]})]}),(0,b.jsx)("span",{className:"text-sm font-bold text-[var(--color-accent)]",children:ao(a.revenue)})]},c))})]}),Q.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,b.jsx)(o.Building2,{className:"w-5 h-5 text-[var(--color-accent)]"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"en"===F?"Top Tables":"Meja Populer"})]}),(0,b.jsx)("div",{className:"space-y-3",children:Q.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900 text-sm",children:["en"===F?"Table":"Meja"," ",a.tableNumber]}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:[a.orders," ","en"===F?"orders":"pesanan"]})]}),(0,b.jsx)("span",{className:"text-sm font-bold text-[var(--color-accent)]",children:ao(a.revenue)})]},c))})]}),S.length>0&&(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-5",children:[(0,b.jsx)(m.Users,{className:"w-5 h-5 text-[var(--color-accent)]"}),(0,b.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"en"===F?"Top Staff":"Staf Terbaik"})]}),(0,b.jsx)("div",{className:"space-y-3",children:S.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:[a.orders," ","en"===F?"orders":"pesanan"]})]}),(0,b.jsx)("span",{className:"text-sm font-bold text-[var(--color-accent)]",children:ao(a.revenue)})]},c))})]})]})]})})]})}a.s(["default",()=>D])}];

//# sourceMappingURL=src_app_dashboard_dashboard-client_tsx_34e22e3a._.js.map